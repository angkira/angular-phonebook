const options={method:"GET",dataType:"json",url:"https://www.dropbox.com/s/qsaumv60f1yn48q/MOCK_DATA.json?dl=1"};let phoneBook=function($scope,$http){let model={UserList:[],sortDet:"id",sortRev:!1,currentUser:{},showCard:!1,fields:[],excepts:["avatar","job_title","company_name","gender"],getData:function(){console.log("Getting data"),$http(options).then(function(response){model.UserList=angular.fromJson(response.data),model.fields=Object.keys(model.UserList[0]).filter(function(field){return-1===model.excepts.indexOf(field)}),console.log("Success")},function(response){console.log("Error. Can not get data from url\n"+response)})},chooseUser:function(chosenUserID){model.currentUser=angular.copy(model.UserList[chosenUserID]),model.showCard=!0}};$scope.model=model},userList=function(){return{restrict:"E",templateUrl:"templates/userList.html",replace:!0}},userCard=function(){return{restrict:"E",templateUrl:"templates/userCard.html",replace:!0}},searchBox=function(){return{restrict:"E",templateUrl:"templates/search-box.html",replace:!0}},app=angular.module("app",["ngRoute","ngMaterial"]);app.directive("userList",userList),app.directive("userCard",userCard),app.directive("searchBox",searchBox),app.controller("phoneBook",phoneBook);